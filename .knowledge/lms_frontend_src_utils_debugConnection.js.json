{"is_source_file": true, "format": "JavaScript", "description": "This source file provides a utility function to perform multi-step diagnostics of the connectivity to a Supabase backend, including environment checks, network reachability, and table probe tests. It exports the main function 'debugSupabaseConnection' used for debugging and diagnostics.", "external_files": ["../lib/logger", "../config/supabaseClient"], "external_methods": ["logger.info", "logger.warn", "getSupabaseClient"], "published": ["debugSupabaseConnection"], "classes": [], "methods": [{"name": "debugSupabaseConnection(timeoutMs = 4000)", "description": "Performs multi-step diagnostics for Supabase connectivity including environment verification, network reachability, and table probe tests, then compiles and returns the diagnostic results.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "clearTimeout", "setTimeout", "logger.info", "logger.warn", "getSupabaseClient", "supabase.from", "supabase.from().select"], "search-terms": ["debugSupabaseConnection", "Supabase diagnostics", "connectivity probe", "network reachability", "environment variables", "tables probe", "profiles", "courses"], "state": 2, "file_id": 69, "knowledge_revision": 193, "git_revision": "", "ctags": [{"_type": "tag", "name": "anonKeyPresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  const env = { urlPresent: Boolean(url), anonKeyPresent: Boolean(anonKey) };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.env", "scopeKind": "class"}, {"_type": "tag", "name": "debugSupabaseConnection", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^export async function debugSupabaseConnection(timeoutMs = 4000) {$/", "language": "JavaScript", "kind": "function", "signature": "(timeoutMs = 4000)"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  const env = { urlPresent: Boolean(url), anonKeyPresent: Boolean(anonKey) };$/", "language": "JavaScript", "kind": "class", "scope": "debugSupabaseConnection", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    network = { reachable: false, error: e?.message || 'fetch_failed' };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.network", "scopeKind": "class"}, {"_type": "tag", "name": "errors", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  let probe = { ok: false, tried: [], errors: [] };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "network", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    network = { reachable: false, error: e?.message || 'fetch_failed' };$/", "language": "JavaScript", "kind": "class", "scope": "debugSupabaseConnection", "scopeKind": "class"}, {"_type": "tag", "name": "network", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    network = { reachable: res.ok || (res.status >= 200 && res.status < 500), status: res.status/", "language": "JavaScript", "kind": "class", "scope": "debugSupabaseConnection", "scopeKind": "class"}, {"_type": "tag", "name": "network", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  let network = { reachable: false };$/", "language": "JavaScript", "kind": "class", "scope": "debugSupabaseConnection", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^      probe = { ok: false, tried, errors };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^      probe = { ok: true, table: 'courses', tried };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    probe = { ok: true, table: 'profiles', tried };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  const result = { ok, env, network, probe, ...(notes.length ? { notes } : {}) };$/", "language": "JavaScript", "kind": "field", "scope": "debugSupabaseConnection.result", "scopeKind": "class"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  let probe = { ok: false, tried: [], errors: [] };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "probe", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^      probe = { ok: false, tried, errors };$/", "language": "JavaScript", "kind": "class", "scope": "debugSupabaseConnection", "scopeKind": "class"}, {"_type": "tag", "name": "probe", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^      probe = { ok: true, table: 'courses', tried };$/", "language": "JavaScript", "kind": "class", "scope": "debugSupabaseConnection", "scopeKind": "class"}, {"_type": "tag", "name": "probe", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    probe = { ok: true, table: 'profiles', tried };$/", "language": "JavaScript", "kind": "class", "scope": "debugSupabaseConnection", "scopeKind": "class"}, {"_type": "tag", "name": "probe", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  let probe = { ok: false, tried: [], errors: [] };$/", "language": "JavaScript", "kind": "class", "scope": "debugSupabaseConnection", "scopeKind": "class"}, {"_type": "tag", "name": "reachable", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    network = { reachable: false, error: e?.message || 'fetch_failed' };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.network", "scopeKind": "class"}, {"_type": "tag", "name": "reachable", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    network = { reachable: res.ok || (res.status >= 200 && res.status < 500), status: res.status/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.network", "scopeKind": "class"}, {"_type": "tag", "name": "reachable", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  let network = { reachable: false };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.network", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    network = { reachable: res.ok || (res.status >= 200 && res.status < 500), status: res.status/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.network", "scopeKind": "class"}, {"_type": "tag", "name": "table", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^      probe = { ok: true, table: 'courses', tried };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "table", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    probe = { ok: true, table: 'profiles', tried };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "tried", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^      probe = { ok: false, tried, errors };$/", "language": "JavaScript", "kind": "field", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "tried", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^      probe = { ok: true, table: 'courses', tried };$/", "language": "JavaScript", "kind": "field", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "tried", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^    probe = { ok: true, table: 'profiles', tried };$/", "language": "JavaScript", "kind": "field", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "tried", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  let probe = { ok: false, tried: [], errors: [] };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.probe", "scopeKind": "class"}, {"_type": "tag", "name": "urlPresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/utils/debugConnection.js", "pattern": "/^  const env = { urlPresent: Boolean(url), anonKeyPresent: Boolean(anonKey) };$/", "language": "JavaScript", "kind": "property", "scope": "debugSupabaseConnection.env", "scopeKind": "class"}], "hash": "f82aa7728a96a858ec9e3bd8e52f8f8e", "format-version": 4, "code-base-name": "lms_frontend", "filename": "lms_frontend/src/utils/debugConnection.js", "fields": [{"name": "const env = { urlPresent: Boolean(url), anonKeyPresent: Boolean(anonKey) };", "scope": "debugSupabaseConnection.env", "scopeKind": "class", "description": "unavailable"}, {"name": "network = { reachable: false, error: e?.message || 'fetch_failed' };", "scope": "debugSupabaseConnection.network", "scopeKind": "class", "description": "unavailable"}, {"name": "let probe = { ok: false, tried: [], errors: [] };", "scope": "debugSupabaseConnection.probe", "scopeKind": "class", "description": "unavailable"}, {"name": "probe = { ok: false, tried, errors };", "scope": "debugSupabaseConnection.probe", "scopeKind": "class", "description": "unavailable"}, {"name": "probe = { ok: true, table: 'courses', tried };", "scope": "debugSupabaseConnection.probe", "scopeKind": "class", "description": "unavailable"}, {"name": "probe = { ok: true, table: 'profiles', tried };", "scope": "debugSupabaseConnection.probe", "scopeKind": "class", "description": "unavailable"}, {"name": "const result = { ok, env, network, probe, ...(notes.length ? { notes } : {}) };", "scope": "debugSupabaseConnection.result", "scopeKind": "class", "description": "unavailable"}, {"name": "network = { reachable: res.ok || (res.status >= 200 && res.status < 500), status: res.status/", "scope": "debugSupabaseConnection.network", "scopeKind": "class", "description": "unavailable"}, {"name": "let network = { reachable: false };", "scope": "debugSupabaseConnection.network", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"193": ""}]}