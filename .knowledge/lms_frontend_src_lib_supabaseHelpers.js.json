{"is_source_file": true, "format": "JavaScript", "description": "This file provides helper functions for interacting with a Supabase backend in a frontend project, including course management, user enrollment, lessons, discussions, and admin functionalities.", "external_files": ["./config", "./logger", "../config/supabaseClient"], "external_methods": ["getConfig", "logger.info", "logger.warn", "logger.error", "getSupabaseClient"], "published": ["getSupabase", "getSupabaseStatus", "healthCheck", "listCourses", "listAllCourses", "listAuditLogs", "setCourseStatus", "getCourseById", "enrollInCourse", "listUsers", "setUserRole", "listModulesForCourse", "listLessonsInModule", "saveContent", "createCourse", "listMyCourses", "listEnrollmentsForCourse", "listGrades", "setGrade", "listLessons", "uploadAssignment", "listAssignments", "getCertificate", "fetchLessonContent", "subscribeLessonUpdates", "saveProgress", "listQuizzes", "submitQuiz", "listDiscussions", "postDiscussion", "replyDiscussion", "subscribeDiscussionUpdates", "updateCourse", "createModule", "reorderModules", "createLesson"], "classes": [], "methods": [{"name": "getSupabase()", "description": "Returns the configured Supabase client.", "scope": "", "scopeKind": ""}, {"name": "getSupabaseStatus()", "description": "Provides diagnostics status about the Supabase environment.", "scope": "", "scopeKind": ""}, {"name": "healthCheck()", "description": "A simple frontend health check endpoint returning an ok status with timestamp.", "scope": "", "scopeKind": ""}, {"name": "listCourses(filters = {})", "description": "Fetches a list of courses with optional filters, or returns demo data if using demo mode.", "scope": "", "scopeKind": ""}, {"name": "listAllCourses(filters = {})", "description": "Admin function to list all courses, with optional search.", "scope": "", "scopeKind": ""}, {"name": "listAuditLogs({ limit = 100 } = {})", "description": "Admin function to list audit logs with optional limit.", "scope": "", "scopeKind": ""}, {"name": "setCourseStatus(id, status)", "description": "Updates the status of a specific course (e.g., publish/draft).", "scope": "", "scopeKind": ""}, {"name": "getCourseById(id)", "description": "Fetch detailed info for a specific course by ID.", "scope": "", "scopeKind": ""}, {"name": "enrollInCourse(courseId)", "description": "Enroll current user into a specific course, with demo mode simulation.", "scope": "", "scopeKind": ""}, {"name": "listUsers({ q = '' } = {})", "description": "Admin function to list or search users.", "scope": "", "scopeKind": ""}, {"name": "setUserRole(id, role)", "description": "Admin function to set a user's role.", "scope": "", "scopeKind": ""}, {"name": "listModulesForCourse(courseId)", "description": "List modules associated with a course.", "scope": "", "scopeKind": ""}, {"name": "listLessonsInModule(moduleId)", "description": "List lessons within a specific module.", "scope": "", "scopeKind": ""}, {"name": "saveContent(lessonId, payload)", "description": "Update content of a lesson.", "scope": "", "scopeKind": ""}, {"name": "createCourse(payload)", "description": "Create a new course (typically by an instructor).", "scope": "", "scopeKind": ""}, {"name": "listMyCourses()", "description": "List courses for the currently logged-in instructor or user.", "scope": "", "scopeKind": ""}, {"name": "listEnrollmentsForCourse(courseId)", "description": "List user enrollments for a course.", "scope": "", "scopeKind": ""}, {"name": "listGrades(courseId)", "description": "Fetch grades for a course.", "scope": "", "scopeKind": ""}, {"name": "setGrade(courseId, userId, value)", "description": "Update or assign a grade for a user in a course.", "scope": "", "scopeKind": ""}, {"name": "listLessons(courseId)", "description": "List lessons for a course, including progress data.", "scope": "", "scopeKind": ""}, {"name": "uploadAssignment(assignmentId, file)", "description": "Placeholder for uploading assignment files.", "scope": "", "scopeKind": ""}, {"name": "listAssignments(courseId)", "description": "List assignments for a course.", "scope": "", "scopeKind": ""}, {"name": "getCertificate(courseId)", "description": "Retrieve certificate info for a course.", "scope": "", "scopeKind": ""}, {"name": "fetchLessonContent(lessonId)", "description": "Fetch detailed content for a specific lesson.", "scope": "", "scopeKind": ""}, {"name": "subscribeLessonUpdates(lessonId, cb)", "description": "Subscribe to real-time lesson updates (demo returns noop).", "scope": "", "scopeKind": ""}, {"name": "saveProgress(lessonId, payload)", "description": "Save learning progress; noop in demo.", "scope": "", "scopeKind": ""}, {"name": "listQuizzes(courseId)", "description": "List quizzes associated with a course.", "scope": "", "scopeKind": ""}, {"name": "submitQuiz(quizId, answers)", "description": "Submit quiz answers and receive results.", "scope": "", "scopeKind": ""}, {"name": "listDiscussions(courseId)", "description": "Get discussion threads for a course.", "scope": "", "scopeKind": ""}, {"name": "postDiscussion({ courseId, title, body })", "description": "Create a new discussion thread.", "scope": "", "scopeKind": ""}, {"name": "replyDiscussion(threadId, body)", "description": "Reply to a discussion thread.", "scope": "", "scopeKind": ""}, {"name": "subscribeDiscussionUpdates(courseId, cb)", "description": "Subscribe to discussion updates (demo: noop).", "scope": "", "scopeKind": ""}, {"name": "updateCourse(courseId, payload)", "description": "Update course metadata.", "scope": "", "scopeKind": ""}, {"name": "createModule(courseId, payload)", "description": "Create a new module within a course.", "scope": "", "scopeKind": ""}, {"name": "reorderModules(courseId, positions)", "description": "Update positions of modules within a course.", "scope": "", "scopeKind": ""}, {"name": "createLesson(courseId, moduleId, payload)", "description": "Create a new lesson within a module.", "scope": "", "scopeKind": ""}, {"name": "usingDemo()", "scope": "", "scopeKind": "", "description": "unavailable"}], "search-terms": ["supabaseHelpers", "course management", "enrollment", "lessons", "discussions", "admin functions", "demo mode", "content update", "quizzes", "assignments", "certificates", "modules"], "state": 2, "file_id": 78, "knowledge_revision": 237, "git_revision": "", "revision_history": [{"228": ""}, {"232": ""}, {"233": ""}, {"234": ""}, {"235": ""}, {"236": ""}, {"237": ""}], "ctags": [{"_type": "tag", "name": "anonKeyPresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    anonKeyPresent: Boolean(cfg.supabase?.anonKey),$/", "language": "JavaScript", "kind": "property", "scope": "getSupabaseStatus.masked", "scopeKind": "class"}, {"_type": "tag", "name": "createCourse", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function createCourse(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "createLesson", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function createLesson(courseId, moduleId, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId, moduleId, payload)"}, {"_type": "tag", "name": "createModule", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function createModule(courseId, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId, payload)"}, {"_type": "tag", "name": "enrollInCourse", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function enrollInCourse(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    env: cfg.env,$/", "language": "JavaScript", "kind": "property", "scope": "getSupabaseStatus.masked", "scopeKind": "class"}, {"_type": "tag", "name": "fetchLessonContent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function fetchLessonContent(lessonId) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId)"}, {"_type": "tag", "name": "getCertificate", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function getCertificate(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "getCourseById", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function getCourseById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getSupabase", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export function getSupabase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getSupabaseStatus", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function getSupabaseStatus() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "healthCheck", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export function healthCheck() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listAllCourses", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listAllCourses(filters = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(filters = {})"}, {"_type": "tag", "name": "listAssignments", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listAssignments(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listAuditLogs", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listAuditLogs({ limit = 100 } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ limit = 100 } = {})"}, {"_type": "tag", "name": "listCourses", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listCourses(filters = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(filters = {})"}, {"_type": "tag", "name": "listDiscussions", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listDiscussions(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listEnrollmentsForCourse", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listEnrollmentsForCourse(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listGrades", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listGrades(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listLessons", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listLessons(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listLessonsInModule", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listLessonsInModule(moduleId) {$/", "language": "JavaScript", "kind": "function", "signature": "(moduleId)"}, {"_type": "tag", "name": "listModulesForCourse", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listModulesForCourse(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listMyCourses", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listMyCourses() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listQuizzes", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listQuizzes(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listUsers", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listUsers({ q = '' } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ q = '' } = {})"}, {"_type": "tag", "name": "masked", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^  const masked = {$/", "language": "JavaScript", "kind": "class", "scope": "getSupabaseStatus", "scopeKind": "class"}, {"_type": "tag", "name": "noop", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    noop: Boolean(client?.__noop__),$/", "language": "JavaScript", "kind": "property", "scope": "getSupabaseStatus.masked", "scopeKind": "class"}, {"_type": "tag", "name": "postDiscussion", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function postDiscussion({ courseId, title, body }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ courseId, title, body })"}, {"_type": "tag", "name": "reorderModules", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function reorderModules(courseId, positions) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId, positions)"}, {"_type": "tag", "name": "replyDiscussion", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function replyDiscussion(threadId, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(threadId, body)"}, {"_type": "tag", "name": "saveContent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function saveContent(lessonId, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, payload)"}, {"_type": "tag", "name": "saveProgress", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function saveProgress(lessonId, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, payload)"}, {"_type": "tag", "name": "setCourseStatus", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function setCourseStatus(id, status) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, status)"}, {"_type": "tag", "name": "setGrade", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function setGrade(courseId, userId, value) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId, userId, value)"}, {"_type": "tag", "name": "setUserRole", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function setUserRole(id, role) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, role)"}, {"_type": "tag", "name": "submitQuiz", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function submitQuiz(quizId, answers) {$/", "language": "JavaScript", "kind": "function", "signature": "(quizId, answers)"}, {"_type": "tag", "name": "subscribeDiscussionUpdates", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export function subscribeDiscussionUpdates(courseId, cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId, cb)"}, {"_type": "tag", "name": "subscribeLessonUpdates", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export function subscribeLessonUpdates(lessonId, cb) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, cb)"}, {"_type": "tag", "name": "updateCourse", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function updateCourse(courseId, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId, payload)"}, {"_type": "tag", "name": "uploadAssignment", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function uploadAssignment(assignmentId, file) {$/", "language": "JavaScript", "kind": "function", "signature": "(assignmentId, file)"}, {"_type": "tag", "name": "urlPresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    urlPresent: Boolean(cfg.supabase?.url),$/", "language": "JavaScript", "kind": "property", "scope": "getSupabaseStatus.masked", "scopeKind": "class"}, {"_type": "tag", "name": "usingDemo", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^function usingDemo() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "514e54237d898dc36b3981c961d664a3", "format-version": 4, "code-base-name": "lms_frontend", "filename": "lms_frontend/src/lib/supabaseHelpers.js", "fields": [{"name": "anonKeyPresent: Boolean(cfg.supabase?.anonKey),", "scope": "getSupabaseStatus.masked", "scopeKind": "class", "description": "unavailable"}, {"name": "env: cfg.env,", "scope": "getSupabaseStatus.masked", "scopeKind": "class", "description": "unavailable"}, {"name": "noop: Boolean(client?.__noop__),", "scope": "getSupabaseStatus.masked", "scopeKind": "class", "description": "unavailable"}, {"name": "urlPresent: Boolean(cfg.supabase?.url),", "scope": "getSupabaseStatus.masked", "scopeKind": "class", "description": "unavailable"}]}