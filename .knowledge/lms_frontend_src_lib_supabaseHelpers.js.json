{"is_source_file": true, "format": "JavaScript", "description": "This file provides helper functions for interacting with a Supabase backend, including methods for fetching courses, lessons, discussions, assignments, quizzes, and certificates, as well as managing enrollment and user progress tracking. The code also includes functions for subscribing to real-time updates, posting discussions, submitting quizzes, and uploading assignments. It functions as a core utility module in a learning platform frontend.", "external_files": ["./supabaseClient", "./logger", "./config"], "external_methods": ["getSupabaseClient", "logger", "getConfig"], "published": ["listCourses", "getCourseById", "enrollInCourse", "listLessons", "fetchLessonContent", "saveProgress", "subscribeLessonUpdates", "listDiscussions", "postDiscussion", "replyDiscussion", "subscribeDiscussionUpdates", "listAssignments", "uploadAssignment", "listQuizzes", "submitQuiz", "getCertificate"], "classes": [], "methods": [{"name": "applyILIKEFilter(queryBuilder, columns, q)", "description": "Builds a filter for case-insensitive partial matching across multiple columns in a query builder.", "scope": "", "scopeKind": ""}, {"name": "mapSort(sortKey)", "description": "Maps UI sort keys to database column names and sort directions.", "scope": "", "scopeKind": ""}, {"name": "enrollInCourse(courseId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "fetchLessonContent(lessonId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getCertificate(courseId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getCourseById(courseId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listAssignments(courseId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listCourses({ q = '', category = '', level = '', sort = 'newest', limit = 24, page = 1 } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listDiscussions(courseId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listLessons(courseId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listQuizzes(courseId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "postDiscussion({ courseId, title, body })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "replyDiscussion(threadId, body)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "saveProgress(lessonId, { last_position, completed })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "submitQuiz(quizId, answers)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "subscribeDiscussionUpdates(courseId, onChange)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "subscribeLessonUpdates(lessonId, onChange)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "uploadAssignment(assignmentId, file)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getSupabaseClient()", "logger.warn", "logger.error", "supabase.auth.getSession", "supabase.from", "supabase.storage.from", "supabase.createSignedUrl", "supabase.channel", "supabase.removeChannel"], "search-terms": ["supabaseHelpers", "courses", "lessons", "discussions", "assignments", "quizzes", "certificates", "enrollments", "progress", "realtime", "storage", "upload", "submitQuiz"], "state": 2, "file_id": 41, "knowledge_revision": 122, "git_revision": "", "revision_history": [{"100": ""}, {"122": ""}], "ctags": [{"_type": "tag", "name": "answers", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      answers,$/", "language": "JavaScript", "kind": "field", "scope": "submitQuiz.payload", "scopeKind": "class"}, {"_type": "tag", "name": "applyILIKEFilter", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^function applyILIKEFilter(queryBuilder, columns, q) {$/", "language": "JavaScript", "kind": "function", "signature": "(queryBuilder, columns, q)"}, {"_type": "tag", "name": "assignment_id", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      assignment_id: assignmentId,$/", "language": "JavaScript", "kind": "property", "scope": "uploadAssignment.payload", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      body,$/", "language": "JavaScript", "kind": "field", "scope": "replyDiscussion.payload", "scopeKind": "class"}, {"_type": "tag", "name": "course_id", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      course_id: courseId,$/", "language": "JavaScript", "kind": "property", "scope": "postDiscussion.payload", "scopeKind": "class"}, {"_type": "tag", "name": "enrollInCourse", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function enrollInCourse(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "fetchLessonContent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function fetchLessonContent(lessonId) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId)"}, {"_type": "tag", "name": "file_path", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      file_path: path,$/", "language": "JavaScript", "kind": "property", "scope": "uploadAssignment.payload", "scopeKind": "class"}, {"_type": "tag", "name": "file_url", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      file_url,$/", "language": "JavaScript", "kind": "field", "scope": "uploadAssignment.payload", "scopeKind": "class"}, {"_type": "tag", "name": "getCertificate", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function getCertificate(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "getCourseById", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function getCourseById(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "lesson_id", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    const payload = { user_id: userId, lesson_id: lessonId };$/", "language": "JavaScript", "kind": "property", "scope": "saveProgress.payload", "scopeKind": "class"}, {"_type": "tag", "name": "listAssignments", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listAssignments(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listCourses", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listCourses({ q = '', category = '', level = '', sort = 'newest', limit = /", "language": "JavaScript", "kind": "function", "signature": "({ q = '', category = '', level = '', sort = 'newest', limit = 24, page = 1 } = {})"}, {"_type": "tag", "name": "listDiscussions", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listDiscussions(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listLessons", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listLessons(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "listQuizzes", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function listQuizzes(courseId) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId)"}, {"_type": "tag", "name": "mapSort", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^function mapSort(sortKey) {$/", "language": "JavaScript", "kind": "function", "signature": "(sortKey)"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    const payload = { user_id: userId, lesson_id: lessonId };$/", "language": "JavaScript", "kind": "class", "scope": "saveProgress", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "postDiscussion", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "replyDiscussion", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "submitQuiz", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "uploadAssignment", "scopeKind": "class"}, {"_type": "tag", "name": "postDiscussion", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function postDiscussion({ courseId, title, body }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ courseId, title, body })"}, {"_type": "tag", "name": "quiz_id", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      quiz_id: quizId,$/", "language": "JavaScript", "kind": "property", "scope": "submitQuiz.payload", "scopeKind": "class"}, {"_type": "tag", "name": "replyDiscussion", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function replyDiscussion(threadId, body) {$/", "language": "JavaScript", "kind": "function", "signature": "(threadId, body)"}, {"_type": "tag", "name": "saveProgress", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function saveProgress(lessonId, { last_position, completed }) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, { last_position, completed })"}, {"_type": "tag", "name": "submitQuiz", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function submitQuiz(quizId, answers) {$/", "language": "JavaScript", "kind": "function", "signature": "(quizId, answers)"}, {"_type": "tag", "name": "subscribeDiscussionUpdates", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export function subscribeDiscussionUpdates(courseId, onChange) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseId, onChange)"}, {"_type": "tag", "name": "subscribeLessonUpdates", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export function subscribeLessonUpdates(lessonId, onChange) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonId, onChange)"}, {"_type": "tag", "name": "thread_id", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      thread_id: threadId,$/", "language": "JavaScript", "kind": "property", "scope": "replyDiscussion.payload", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      title,$/", "language": "JavaScript", "kind": "field", "scope": "postDiscussion.payload", "scopeKind": "class"}, {"_type": "tag", "name": "uploadAssignment", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^export async function uploadAssignment(assignmentId, file) {$/", "language": "JavaScript", "kind": "function", "signature": "(assignmentId, file)"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      user_id: user.id,$/", "language": "JavaScript", "kind": "property", "scope": "submitQuiz.payload", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^      user_id: user.id,$/", "language": "JavaScript", "kind": "property", "scope": "uploadAssignment.payload", "scopeKind": "class"}, {"_type": "tag", "name": "user_id", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/lib/supabaseHelpers.js", "pattern": "/^    const payload = { user_id: userId, lesson_id: lessonId };$/", "language": "JavaScript", "kind": "property", "scope": "saveProgress.payload", "scopeKind": "class"}], "hash": "5785faefc30db1d3292e2d26c2ae7b83", "format-version": 4, "code-base-name": "lms_frontend", "filename": "lms_frontend/src/lib/supabaseHelpers.js", "fields": [{"name": "answers,", "scope": "submitQuiz.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "assignment_id: assignmentId,", "scope": "uploadAssignment.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "body,", "scope": "replyDiscussion.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "course_id: courseId,", "scope": "postDiscussion.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "file_path: path,", "scope": "uploadAssignment.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "file_url,", "scope": "uploadAssignment.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "const payload = { user_id: userId, lesson_id: lessonId };", "scope": "saveProgress.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "quiz_id: quizId,", "scope": "submitQuiz.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "thread_id: threadId,", "scope": "replyDiscussion.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "title,", "scope": "postDiscussion.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "user_id: user.id,", "scope": "submitQuiz.payload", "scopeKind": "class", "description": "unavailable"}]}