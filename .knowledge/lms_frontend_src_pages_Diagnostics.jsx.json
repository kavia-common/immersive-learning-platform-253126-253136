{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file is a React component implementing a diagnostics page that displays environment info, network reachability, database probe results, and auth session status. It imports UI components, hooks, and utility functions, and defines the main Diagnostics component with internal state and rendering logic.", "external_files": ["../components/ui/Card", "../components/ui/Button", "../state/AuthContext", "../lib/config", "../utils/testSupabase", "../utils/debugConnection"], "external_methods": ["useAuth", "getConfig", "runSupabaseSelfTest", "debugSupabaseConnection"], "published": ["Diagnostics"], "classes": [], "methods": [{"name": "Diagnostics()", "description": "Main React functional component that renders the diagnostics page, manages state, and performs checks on mount and on user interaction.", "scope": "", "scopeKind": ""}], "calls": ["getConfig", "debugSupabaseConnection", "runSupabaseSelfTest"], "search-terms": ["Diagnostics", "useAuth", "debugSupabaseConnection", "runSupabaseSelfTest", "config", "environment checks", "connection diagnostics", "React JSX diagnostics"], "state": 2, "file_id": 72, "knowledge_revision": 201, "git_revision": "", "ctags": [{"_type": "tag", "name": "Diagnostics", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^export default function Diagnostics() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "apiBasePresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^        apiBasePresent: Boolean(cfg.apiBase),$/", "language": "JavaScript", "kind": "property", "scope": "Diagnostics.env", "scopeKind": "class"}, {"_type": "tag", "name": "children", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^  const Note = ({ children }) => ($/", "language": "JavaScript", "kind": "field", "scope": "Diagnostics.Note", "scopeKind": "class"}, {"_type": "tag", "name": "env", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^      const env = {$/", "language": "JavaScript", "kind": "class", "scope": "Diagnostics", "scopeKind": "class"}, {"_type": "tag", "name": "frontendUrlPresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^        frontendUrlPresent: Boolean(cfg.frontendUrl),$/", "language": "JavaScript", "kind": "property", "scope": "Diagnostics.env", "scopeKind": "class"}, {"_type": "tag", "name": "label", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^  const Stat = ({ label, value, hint }) => ($/", "language": "JavaScript", "kind": "field", "scope": "Diagnostics.Stat", "scopeKind": "class"}, {"_type": "tag", "name": "nodeEnv", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^        nodeEnv: cfg.env,$/", "language": "JavaScript", "kind": "property", "scope": "Diagnostics.env", "scopeKind": "class"}, {"_type": "tag", "name": "supabaseKeyLen", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^        supabaseKeyLen: cfg.supabase?.anonKey ? String(cfg.supabase.anonKey).length : 0,$/", "language": "JavaScript", "kind": "property", "scope": "Diagnostics.env", "scopeKind": "class"}, {"_type": "tag", "name": "supabaseKeyPresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^        supabaseKeyPresent: Boolean(cfg.supabase?.anonKey),$/", "language": "JavaScript", "kind": "property", "scope": "Diagnostics.env", "scopeKind": "class"}, {"_type": "tag", "name": "supabaseUrlPresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^        supabaseUrlPresent: Boolean(cfg.supabase?.url),$/", "language": "JavaScript", "kind": "property", "scope": "Diagnostics.env", "scopeKind": "class"}, {"_type": "tag", "name": "supabaseUrlSample", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^        supabaseUrlSample: cfg.supabase?.url ? mask(cfg.supabase.url) : '',$/", "language": "JavaScript", "kind": "property", "scope": "Diagnostics.env", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^  const Section = ({ title, children }) => ($/", "language": "JavaScript", "kind": "field", "scope": "Diagnostics.Section", "scopeKind": "class"}, {"_type": "tag", "name": "wsUrlPresent", "path": "/home/kavia/workspace/code-generation/immersive-learning-platform-253126-253136/lms_frontend/src/pages/Diagnostics.jsx", "pattern": "/^        wsUrlPresent: Boolean(cfg.wsUrl),$/", "language": "JavaScript", "kind": "property", "scope": "Diagnostics.env", "scopeKind": "class"}], "hash": "2286c357bc9bd2805759c6871ac5b030", "format-version": 4, "code-base-name": "lms_frontend", "filename": "lms_frontend/src/pages/Diagnostics.jsx", "fields": [{"name": "apiBasePresent: Boolean(cfg.apiBase),", "scope": "Diagnostics.env", "scopeKind": "class", "description": "unavailable"}, {"name": "const Note = ({ children }) => (", "scope": "Diagnostics.Note", "scopeKind": "class", "description": "unavailable"}, {"name": "frontendUrlPresent: Boolean(cfg.frontendUrl),", "scope": "Diagnostics.env", "scopeKind": "class", "description": "unavailable"}, {"name": "const Stat = ({ label, value, hint }) => (", "scope": "Diagnostics.Stat", "scopeKind": "class", "description": "unavailable"}, {"name": "nodeEnv: cfg.env,", "scope": "Diagnostics.env", "scopeKind": "class", "description": "unavailable"}, {"name": "supabaseKeyLen: cfg.supabase?.anonKey ? String(cfg.supabase.anonKey).length : 0,", "scope": "Diagnostics.env", "scopeKind": "class", "description": "unavailable"}, {"name": "supabaseKeyPresent: Boolean(cfg.supabase?.anonKey),", "scope": "Diagnostics.env", "scopeKind": "class", "description": "unavailable"}, {"name": "supabaseUrlPresent: Boolean(cfg.supabase?.url),", "scope": "Diagnostics.env", "scopeKind": "class", "description": "unavailable"}, {"name": "supabaseUrlSample: cfg.supabase?.url ? mask(cfg.supabase.url) : '',", "scope": "Diagnostics.env", "scopeKind": "class", "description": "unavailable"}, {"name": "const Section = ({ title, children }) => (", "scope": "Diagnostics.Section", "scopeKind": "class", "description": "unavailable"}, {"name": "wsUrlPresent: Boolean(cfg.wsUrl),", "scope": "Diagnostics.env", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"201": ""}]}